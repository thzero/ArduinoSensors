#ifndef _SENSOR_GPS_UBLOX_H
#define _SENSOR_GPS_UBLOX_H

#include <Arduino.h>

#include "sensorGPS.h"
#include "sensorGPSUBlox.h"

class sensorGPSUBlox: public sensorGPS {
  public:
    sensorGPSUBlox();

    byte setup(HardwareSerial& port, int baud);
  protected:
      // UBX message to set baud rate to 57600
    const uint8_t commandBaudRate57600[28] = {
      0xB5, 0x62, 0x06, 0x00, 0x14, 0x00, 0x01, 0x00, 0x00, 0x00, 0xD0, 0x08, 0x00, 0x00, 0x00, 0xE1, 0x00, 0x00, 0x07, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0xDE, 0xC9
    };
      // UBX message to set baud rate to 115200
    const uint8_t commandBaudRate115200[28] = {
      0xB5, 0x62, 0x06, 0x00, 0x14, 0x00, 0x01, 0x00, 0x00, 0x00, 0xD0, 0x08, 0x00, 0x00, 0x00, 0xC2, 0x01, 0x00, 0x07, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x7E
    };
    // UBX message to save configuration to flash memory
    const uint8_t commandSaveConfig[21] = {
      0xB5, 0x62, 0x06, 0x09, 0x0D, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x1D, 0xAF
    };
};

#endif